{"componentChunkName":"component---src-templates-blog-post-js","path":"/so-you-think-you-know-JavaScript/","result":{"data":{"site":{"siteMetadata":{"title":"Aman's Blog","author":"Amandeep Singh"}},"markdownRemark":{"id":"d3d087b7-f4ac-5700-8535-db61bdc92268","excerpt":"JavaScript is an interesting language and we all love it because of its nature. Browsers are the home for JavaScript and both work together at our service.\nJS…","html":"<p><strong>JavaScript</strong> is an interesting language and we all love it because of its nature. Browsers are the home for JavaScript and both work together at our service.\nJS has a few concepts where people tend to take it lightly and sometime may tumble over. Concepts like prototyping, closures and event-loops are still one of those obscure areas where most of the JS developers take a detour. And as we know “little knowledge is a dangerous thing”, it may lead to making mistakes.</p>\n<p>Let’s play a mini-game where I am going to ask you a few questions and you have to try answering all of them. Make a guess even if you don’t know the answer or if it’s out of your knowledge. Note down your answers and then check the corresponding answers below. Give yourself a score of 1 for each correct answer. Here we go.</p>\n<blockquote>\n<p>Disclaimer: I’ve used ‘var’ purposely in some of the following code snippets so that you guys can copy paste them into your browser’s console without running into SyntaxError problem.\nBut I don’t condone the usage of ‘var’ declared variables. ‘let’ and ‘const’ declared variables make your code robust and less error-prone.</p>\n</blockquote>\n<hr>\n<p><strong>Question 1: What will be printed on the browser console?</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ??</span>\n    <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p><strong>Question 2: Will output be the same if we use let or const instead of var?</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ??</span>\n    <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p><strong>Question 3: What elements will be in the “newArray”?</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span><span class=\"token number\">3</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n array<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> newArray <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span> <span class=\"token operator\">=></span> <span class=\"token function\">el</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newArray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ??</span></code></pre></div>\n<br/>\n<p><strong>Question 4: If we run the ‘foo’ function in the browser console, will it cause a stack overflow error?</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// will there by any stack overflow error?</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p><strong>Question 5: Will the UI of the page (tab) remains responsive if we run the following function in the console?</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p><strong>Question 6: Can we somehow use the spread syntax for the following statement without causing a TypeError?</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> x<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> z<span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>obj<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// TypeError</span></code></pre></div>\n<br/>\n<p><strong>Question 7: What will be printed on the console when we run the following code snippet?</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>c<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token string\">'d'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> enumerable<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// what properties will be printed when we run the for-in loop?</span>\n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> prop <span class=\"token keyword\">in</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>prop<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p><strong>Question 8: What value xGetter() will print?</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> foo <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token number\">90</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">getX</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\nfoo<span class=\"token punctuation\">.</span><span class=\"token function\">getX</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints 90</span>\n<span class=\"token keyword\">var</span> xGetter <span class=\"token operator\">=</span> foo<span class=\"token punctuation\">.</span>getX<span class=\"token punctuation\">;</span>\n<span class=\"token function\">xGetter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints ??</span></code></pre></div>\n<hr>\n<h3>Answers</h3>\n<p>Now, let’s try to answer each question from top to bottom. I will give you a brief explanation while trying to demystify these behaviors along with some references.</p>\n<p><strong>Answer 1:</strong> <em>undefined</em>.</p>\n<p><strong>Explanation:</strong> The variables declared with var keywords are <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Hoisting\">hoisted</a> in JavaScript and are assigned a value of <em>undefined</em> in the memory. But initialization happens exactly where you typed them in your code. Also, <em>var-declared</em> variables are <a href=\"http://2ality.com/2011/02/javascript-variable-scoping-and-its.html\">function-scoped</a>, whereas <em>let</em> and <strong>const</strong> have block-scoped. So, this is how the process will look like:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// global scope</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// Declaration of var a will be hoisted to the top of function.</span>\n<span class=\"token comment\">// Something like: var a;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints undefined</span>\n\n<span class=\"token comment\">// actual intialisation of value 20 only happens here</span>\n   <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// local scope</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p><strong>Answer 2:</strong> <em>ReferenceError: a is not defined</em>.</p>\n<p><strong>Explanation:</strong> <em>let</em> and <em>const</em> allows you to declare variables that are limited in scope to the block, statement, or expression on which it is used. Unlike <em>var</em>, these variables are not hoisted and have a so-called <a href=\"http://exploringjs.com/es6/ch_variables.html#sec_temporal-dead-zone\">temporal dead zone</a> (TDZ). Trying to access these variables in <em>TDZ</em> will throw a <em>ReferenceError</em> because they can only be accessed until execution reaches the declaration. Read more about <a href=\"http://2ality.com/2015/02/es6-scoping.html\">lexical scoping</a> and <a href=\"http://davidshariff.com/blog/what-is-the-execution-context-in-javascript/\">Execution Context &#x26; Stack</a> in JavaScript.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// global scope</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// enter new scope, TDZ starts</span>\n\n<span class=\"token comment\">// Uninitialised binding for 'a' is created</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ReferenceError</span>\n\n<span class=\"token comment\">// TDZ ends, 'a' is intialised with value of 20 here only</span>\n    <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>The following table outlines the hoisting behaviour and scoping associated with different keywords used in JavaScript (<em>credit: <a href=\"https://twitter.com/rauschma\">Axel Rauschmayer</a>’s blog <a href=\"http://exploringjs.com/es6/ch_variables.html#_ways-of-declaring-variables\">post</a></em>).</p>\n<p><div id=\"gist95244774\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-hoisting-csv\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-csv  \">\n      <div class=\"blob-interaction-bar\">\n  <svg class=\"octicon octicon-search\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z\"></path></svg>\n  <input type=\"text\" name=\"filter\" class=\"form-control js-csv-filter-field blob-filter\" autocapitalize=\"off\"\n         placeholder=\"Search this file…\" aria-label=\"Search this file…\">\n</div>\n\n  <div class=\"markdown-body\">\n    <table class=\"js-csv-data csv-data js-file-line-container\">\n      <thead>\n        <tr id=\"file-hoisting-csv-LC1\" class=\"js-file-line\">\n          <td id=\"file-hoisting-csv-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n            <th>Keyword</th>\n            <th>Hoisting</th>\n            <th>Scope</th>\n            <th>Creates global properties</th>\n        </tr>\n      </thead>\n      <tbody>\n          <tr id=\"file-hoisting-csv-LC2\" class=\"js-file-line\">\n            <td id=\"file-hoisting-csv-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n              <td>var</td>\n              <td>Declaration</td>\n              <td>Function</td>\n              <td>Yes</td>\n          </tr>\n          <tr id=\"file-hoisting-csv-LC3\" class=\"js-file-line\">\n            <td id=\"file-hoisting-csv-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n              <td>let</td>\n              <td>Temporal dead zone</td>\n              <td>Block</td>\n              <td>No</td>\n          </tr>\n          <tr id=\"file-hoisting-csv-LC4\" class=\"js-file-line\">\n            <td id=\"file-hoisting-csv-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n              <td>const</td>\n              <td>Temporal dead zone</td>\n              <td>Block</td>\n              <td>No</td>\n          </tr>\n          <tr id=\"file-hoisting-csv-LC5\" class=\"js-file-line\">\n            <td id=\"file-hoisting-csv-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n              <td>function</td>\n              <td>Complete</td>\n              <td>Block</td>\n              <td>Yes</td>\n          </tr>\n          <tr id=\"file-hoisting-csv-LC6\" class=\"js-file-line\">\n            <td id=\"file-hoisting-csv-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n              <td>class</td>\n              <td>No</td>\n              <td>Block</td>\n              <td>No</td>\n          </tr>\n          <tr id=\"file-hoisting-csv-LC7\" class=\"js-file-line\">\n            <td id=\"file-hoisting-csv-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n              <td>import</td>\n              <td>Complete</td>\n              <td>Module-global</td>\n              <td>No</td>\n          </tr>\n      </tbody>\n    </table>\n  </div>\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/singhArmani/b03765a95a488289c2ca890171a56e1d/raw/f073399cf49da09f3199e103d03bdb708bd7859b/hoisting.csv\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/singhArmani/b03765a95a488289c2ca890171a56e1d#file-hoisting-csv\">hoisting.csv</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p><strong>Answer 3:</strong> <em>[3, 3, 3]</em>.</p>\n<p><strong>Explanation:</strong> Declaring a variable with <em>var</em> keyword in the head of <em>for loop</em> creates a single binding (storage space) for that variable. Read more about <a href=\"http://dmitrysoshnikov.com/ecmascript/chapter-6-closures/\">closures</a>. Let’s look at the for loop one more time.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Misunderstanding scope:thinking that block-level scope exist here</span>\n<span class=\"token keyword\">var</span> array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Every 'i' in the bodies of the three arrow functions</span>\n  <span class=\"token comment\">// referes to the same binding, which is why they all</span>\n  <span class=\"token comment\">// return the same value of '3' at the end of the loop.</span>\n  array<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> newArray <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span> <span class=\"token operator\">=></span> <span class=\"token function\">el</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newArray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [3, 3, 3]</span></code></pre></div>\n<br/>\n<p>If you <em>let-declare</em> a variable, which has a <em>block-level</em> scope, a new binding is created for each loop iteration.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Using ES6 block-scoped binding</span>\n<span class=\"token keyword\">var</span> array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// This time, each 'i' refers to the binding of one specific iteration</span>\n  <span class=\"token comment\">// and preserves the value that was current at that time.</span>\n  <span class=\"token comment\">// Therefore, each arrow function returns a different value.</span>\n  array<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> newArray <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span> <span class=\"token operator\">=></span> <span class=\"token function\">el</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newArray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [0, 1, 2]</span></code></pre></div>\n<br/>\n<p>Another way of solving this quirk would be to use <a href=\"http://dmitrysoshnikov.com/ecmascript/chapter-6-closures/\">closures</a>.</p>\n<p><strong>Answer 4:</strong> <em>No</em>.</p>\n<p><strong>Explanation</strong>: JavaScript concurrency model is based on an “event loop”. When I said “Browsers are the home for JS”, what I really meant was that browsers provide runtime environment to execute our JavaScript code. The main components of the browser include <strong>Call stack, Event loop, Task Queue</strong> and <strong>Web APIs</strong>. Globals functions like <em>setTimeout</em>, <em>setInterval</em>, and <em>Promise</em> are not the part of JavaScript but the Web APIs. The visual representation of the JavaScript environment can be something like as shown below:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f61cd1c7fda25030d5d738c522c1e6c5/31493/javascript-runtime.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 80.4054054054054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAAC2klEQVQoz12SS2sTURTH801cuHJRQVFRkW50IyKCH8MvIi50pVgXiuJOLVZqxVJrJWmSmXszj/ucO5Nk3q8kbdI6SRoqbbxNpVbhx+XOwI//OeeeEvDqH9YXFzc+Ki5AOTESjFJMMnQCTuVp8h6WkNw4BqW6SEQJJQZxy6a96uX1eLsRb8FWR6MZY7mESqwuQxGvUlJjRHfbhudKzIiIxC6RGPS6a2H4aTyuTA/V6VTdKapmaPAOO0b3Gwpvfau31+oOdofEG1NvAmxhJVzK6u5u2Wsvj0bVLPvq+0udrR9mqEsNxabu63qgaa1IoR0oujwak3DIwokq5ZiXcKAOhhte/33xszKZwOmU5r2yETQ0X9O8Bs1k5aTh+GUtrJGEBiMaDFlwIkfqYHu9N/hcFJXRaGk6XYrSFcVRSIZluOycpMj0UoXmdTmJcPyPTFKYi6WBs7I7ruTZnZ3BWTd4hmLL6tLjgdEM6e1YE30of/2XbPjK/mTznW766Xqe3t7qnQmipyiyeIeckiMeTmax/8ooVIqf5e5gs9//7gcPkvhumLxGkZzz32SjHcshSe2UbM/KjsGv/frhoXJ4AA5+6dMDc7BbNUJt1vBJckC8PezJdxphiTuu20zIp8KJ4XcUL/0RdipZv57v1JqZQtI/NR/RoSgiwMGKQFWqqQ5RHWSExmxJMoQSsilqSgts0PI3cwN40Opx6ZyC8S6jOYEukJ/yTnJ8tJ5yb2nC9CYxWkRrIs1Bpktp5Myw2PElxjRFODK0NhCynRTLhT9KRjEPySOfz3l0PrVv+eJSIm4G9IbPLyfkvmdd9Nn1kfZ8D74t1Fdi+bG1/KRffu7wVZY2SzjlPn7ooHO2cS1g89yYC+h8E1110IUQ3bPxeQddKRrPhuBNob7sVRa6lYWi9kLQLzxrlXRXh7YJGAEWVhmGFpEn4BhyonITcCLvqgVVASTQgdCGwAbAgcwXvwGHsBtBde3srgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"alt text\"\n        title=\"javacript runtime environment\"\n        src=\"/static/f61cd1c7fda25030d5d738c522c1e6c5/fcda8/javascript-runtime.png\"\n        srcset=\"/static/f61cd1c7fda25030d5d738c522c1e6c5/12f09/javascript-runtime.png 148w,\n/static/f61cd1c7fda25030d5d738c522c1e6c5/e4a3f/javascript-runtime.png 295w,\n/static/f61cd1c7fda25030d5d738c522c1e6c5/fcda8/javascript-runtime.png 590w,\n/static/f61cd1c7fda25030d5d738c522c1e6c5/31493/javascript-runtime.png 664w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>JS call stack is Last In First Out (LIFO). The engine takes one function at a time from the stack and runs the code sequentially from top to bottom. Every time it encounters some asynchronous code, like <em>setTimeout</em>, it hands it over to the Web API (<em>arrow 1</em>). So, whenever an event is triggered, the <em>callback</em> gets sent to the Task Queue (<em>arrow 2</em>).</p>\n<p>The Event loop is constantly monitoring the Task Queue and process one <em>callback</em> at a time in the order they were queued. Whenever the call stack is empty, the loop picks up the callback and put it into the stack (<em>arrow 3</em>) for processing. Keep in mind that if call stack is not empty, event loop won’t push any <em>callbacks</em> to the stack.</p>\n<p>For a more detailed description of how Event loop works in JavaScript, I highly recommend watching this <a href=\"https://www.youtube.com/watch?v=8aGhZQkoFbQ\">video</a> by Philip Roberts. Additionally, you can also visualise and understand the call stack via this awesome <a href=\"http://latentflip.com/loupe/\">tool</a>. Go ahead and run the ‘foo’ function there and see what happens!</p>\n<p>Now, armed with this knowledge, let’s try to answer the aforementioned question:</p>\n<p><div id=\"gist95254945\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-steps-event-loop-md\" class=\"file my-2\">\n    \n  <div id=\"file-steps-event-loop-md-readme\" class=\"Box-body readme blob js-code-block-container p-5 p-xl-6 \">\n    <article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><h1><a id=\"user-content-steps\" class=\"anchor\" aria-hidden=\"true\" href=\"#steps\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Steps</h1>\n<ol>\n<li>Calling <em>foo()</em> will put the <em>foo</em> function into the <strong>call stack</strong>.</li>\n<li>While processing the code inside, JS engine encounters the <em>setTimeout</em>.</li>\n<li>It then hands over the <em>foo</em> callback to the <strong>WebAPIs</strong> (arrow 1) and returns from the function. The call stack is empty again.</li>\n<li>The timer is set to 0, so the foo will be sent to the <strong>Task Queue</strong> (arrow 2).</li>\n<li>As, our call stack was empty, the event loop will pick the <em>foo</em> callback and push it to the call stack for processing.</li>\n<li>The Process repeats again and <strong>stack doesn't overflow</strong> ever.</li>\n</ol>\n</article>\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/singhArmani/b4663cc3bc8d3200bab38cc67879a074/raw/99731fb96860a7eb294a05e8d44b94bcb20dea0f/Steps-event-loop.md\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/singhArmani/b4663cc3bc8d3200bab38cc67879a074#file-steps-event-loop-md\">Steps-event-loop.md</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p><strong>Answer 5:</strong> <em>No</em>.</p>\n<p><strong>Explanation</strong>: Most of the time, I have seen developers assuming that we have only one task queue in the event loop picture. But that’s not true. We can have multiple task queues. It’s up to the browser to pick up any queue and processes the <em>callbacks</em> inside.</p>\n<p>On a high level, there are macrotasks and microtasks in JavaScript. The <em>setTimeout</em> callbacks are <strong>macrotasks</strong> whereas <em>Promise</em> callbacks are <strong>microtasks</strong>. The main difference is in their execution ceremony. Macrotasks are pushed into the stack one at a time in a single loop cycle, but the microtask queue is always emptied before execution returns to the event loop including any additionally queued items. So, if you were adding items to this queue as quickly you’re processing them, you are processing micro tasks forever. For a more in-depth explanation, watch this <a href=\"https://www.youtube.com/watch?v=cCOL7MC4Pl0\">video</a> or <a href=\"https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/\">article</a> by <a href=\"https://twitter.com/jaffathecake\">Jake Archibald</a>.</p>\n<blockquote>\n<p>Microtask queue is always emptied before execution returns to the event loop</p>\n</blockquote>\n<p>Now, when you run the following code snippet in your console:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p>Every single invocation of ‘foo’ will continue to add another ‘foo’ callback on the microtask queue and thus the event loop can’t continue to process your other events (scroll, click etc) until that queue has completely emptied. Consequently, it blocks the rendering.</p>\n<p><strong>Answer 6:</strong> <em>Yes, by making object <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols\">iterables</a>.</em></p>\n<p><strong>Explanation</strong>: The <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\">spread syntax</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\">for-of</a> statement iterates over data that iterable object defines to be iterated over. Array or Map are built-in iterables with default iteration behaviour. Objects are not iterables, but you can make them iterable by using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol\">iterable</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol\">iterator</a> protocols.</p>\n<p>In Mozilla documentation, an object is said to be iterable if it implements the @@iterator method, meaning that the object (or one of the objects up its <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain\">prototype chain</a>) must have a property with a @@iterator key which is available via constant Symbol.iterator.</p>\n<p>The aforesaid statement may seem a bit verbose, but the following example will make more sense:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> x<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> z<span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\nobj<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// An iterator is an object which has a next method,</span>\n  <span class=\"token comment\">// which also returns an object with atleast</span>\n  <span class=\"token comment\">// one of two properties: value &amp; done.</span>\n\n  <span class=\"token comment\">// returning an iterator object</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">next</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_countDown <span class=\"token operator\">===</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> lastValue <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_countDown<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_countDown<span class=\"token punctuation\">,</span> done<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_countDown <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_countDown <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_countDown<span class=\"token punctuation\">,</span> done<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    _countDown<span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>obj<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// will print [1, 2, 3]</span></code></pre></div>\n<br/>\n<p>You can also use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*\">generator</a> function to customize iteration behaviour for the object:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> x<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> z<span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\nobj<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>obj<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// print [1, 2, 3]</span></code></pre></div>\n<br/>\n<p><strong>Answer 7:</strong> <em>a, b, c</em>.</p>\n<p><strong>Explanation</strong>: The for-in loop iterates over the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Enumerability_and_ownership_of_properties\">enumerable properties</a> of an object itself and those the object inherits from its prototype. An enumerable property is one that can be included in and visited during for-in loops.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> descriptor <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">getOwnPropertyDescriptor</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>descriptor<span class=\"token punctuation\">.</span>enumerable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>descriptor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// { value: 1, writable: true, enumerable: true, configurable: true }</span></code></pre></div>\n<br/>\n<p>Now having this knowledge in your bag, it should be easy to understand why our code printed those specific properties:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// a, b are both enumerables properties</span>\n\n<span class=\"token comment\">// setting {c: 3} as the prototype of 'obj', and as we know</span>\n<span class=\"token comment\">// for-in loop also iterates over the properties obj inherits</span>\n<span class=\"token comment\">// from its prototype, 'c' will also be visited.</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> c<span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// we are defining one more property 'd' into our 'obj', but</span>\n<span class=\"token comment\">// we are setting the 'enumerable' to false. It means 'd' will be ignored.</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token string\">\"d\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> enumerable<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> prop <span class=\"token keyword\">in</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>prop<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// it will print</span>\n<span class=\"token comment\">// a</span>\n<span class=\"token comment\">// b</span>\n<span class=\"token comment\">// c</span></code></pre></div>\n<br/>\n<p><strong>Answer 8:</strong> <em>10</em>.</p>\n<p><strong>Explanation</strong>: When we initialised <em>x</em> into the global scope, it becomes the property of the <em>window</em> object (assuming that it’s a browser environment and not a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode\">strict</a> mode). Looking at the code below:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// global scope</span></span><span class=\"token keyword\">var</span> foo <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token number\">90</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">getX</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\nfoo<span class=\"token punctuation\">.</span><span class=\"token function\">getX</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints 90</span>\n<span class=\"token keyword\">let</span> xGetter <span class=\"token operator\">=</span> foo<span class=\"token punctuation\">.</span>getX<span class=\"token punctuation\">;</span>\n<span class=\"token function\">xGetter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints 10</span></code></pre></div>\n<br/>\n<p>We can assert that:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">window<span class=\"token punctuation\">.</span>x <span class=\"token operator\">===</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code></pre></div>\n<br/>\n<p><strong>this</strong> will always point to the object onto which the method was invoked. So, in the case of foo.getX(), <strong>this</strong> points to <em>foo</em> object returning us the value of 90. Whereas in the case of <em>xGetter()</em>, <strong>this</strong> points to the <em>window</em> object returning us the value of 10.</p>\n<p>To retrieve the value of <em>foo.x</em>, we can create a new function by binding the value of <strong>this</strong> to the <em>foo</em> object using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind\">Function.prototype.bind</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> getFooX <span class=\"token operator\">=</span> foo<span class=\"token punctuation\">.</span><span class=\"token function\">getX</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">getFooX</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints 90</span></code></pre></div>\n<br/>\n<p>hat’s all! Well done if you’ve got all of your answers correct. We all learn by making mistakes. It’s all about knowing the ‘why’ behind it. Know your tools and know them better.</p>\n<p> What was your score anyway 😃?</p>","frontmatter":{"title":"So you think you know JavaScript?","date":"March 21, 2019","description":"We demystify the mechanism of JavaScript engine, closures, scope, and event loop."}}},"pageContext":{"slug":"/so-you-think-you-know-JavaScript/","previous":{"fields":{"slug":"/why-do-we-need-to-bind-methods-inside-out-component's-constructor/"},"frontmatter":{"title":"Why do we need to bind methods inside our component’s constructor?"}},"next":{"fields":{"slug":"/lexical-envrionment-the hidden-part-to-understand-closures/"},"frontmatter":{"title":"Lexical Environment-the hidden part to understand Closures"}}}},"staticQueryHashes":["426816048","63159454"]}