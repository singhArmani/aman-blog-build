{"componentChunkName":"component---src-templates-blog-post-js","path":"/an-easy-explanation-to-prototypal-delegation-in-javascript/","result":{"data":{"site":{"siteMetadata":{"title":"Aman's Blog","author":"Amandeep Singh"}},"markdownRemark":{"id":"92f25173-4f41-5f90-ad4d-4a6bc1a126c7","excerpt":"JavaScript language stands on two pillars: functional programming and prototypal delegation. The addition of  in JavaScript is mere a syntactic sugar to give it‚Ä¶","html":"<p>JavaScript language stands on two pillars: <a href=\"https://medium.com/javascript-scene/master-the-javascript-interview-what-is-functional-programming-7f218c68b3a0\">functional programming</a> and prototypal delegation. The addition of <code class=\"language-text\">classes</code> in JavaScript is mere a syntactic sugar to give it Object-oriented programming feel: unwrap them and you will find functions inside.</p>\n<h2>Prototypal Delegation</h2>\n<p>Prototypal delegation is all about delegating the responsibility to the prototype higher up in the [[Prototype]] chain. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">getPrototypeOf</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token class-name\">Function</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">getPrototypeOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Function</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">getPrototypeOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// null</span></code></pre></div>\n<p>The prototype chain will look like this: </p>\n<blockquote>\n<p>foo ‚Äî> Function.prototype ‚Äî> Object.prototype ‚Äî> null</p>\n</blockquote>\n<p>In simple words, if you try to look for a property that is <strong>not</strong> owned by the object, the JavaScript engine will <strong>traverse up</strong> its prototype chain until it finds it. Let‚Äôs see an example to understand it.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> recipe <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"Garlic Naan\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> recipeBook <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">getRecipeName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Set 'recipeBook' as the prototype of 'recipe'</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span>recipe<span class=\"token punctuation\">,</span> recipeBook<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Prototypal delegation in action</span>\nrecipe<span class=\"token punctuation\">.</span><span class=\"token function\">getRecipeName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints 'Garlic Naan'</span></code></pre></div>\n<p>The prototype chain will look like this: </p>\n<blockquote>\n<p>recipe ‚Äî> recipeBook -> Object.prototype ‚Äî> null</p>\n</blockquote>\n<p>The object <code class=\"language-text\">recipe</code> doesn‚Äôt own the <code class=\"language-text\">getRecipeName</code> property. But by setting <code class=\"language-text\">recipeBook</code> as its prototype, we have delegated the job of printing the <code class=\"language-text\">name</code> to the <code class=\"language-text\">recipeBook</code> instance. This is called the prototypal delegation.</p>\n<p>Now, let say you also want <code class=\"language-text\">recipe</code> to delegate the task of <code class=\"language-text\">orderRecipe()</code> to another instance <code class=\"language-text\">order</code>. You can do this by extending the prototype chain like:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> order <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">orderRecipe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> ordered!</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Extending the prototype chain</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span>recipeBook<span class=\"token punctuation\">,</span> order<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nrecipe<span class=\"token punctuation\">.</span><span class=\"token function\">orderRecipe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints 'Garlic Naan ordered!'</span></code></pre></div>\n<p>The prototype chain will extend to this: </p>\n<blockquote>\n<p>recipe ‚Äî> recipeBook ‚Äî> order ‚Äî> Object.prototype ‚Äî> null</p>\n</blockquote>\n<p>Now, I think it should be easy to relate why you are able to invoke <code class=\"language-text\">recipe.hasOwnProperty()</code> even though none of the object literals we declared owned <code class=\"language-text\">hasOwnProperty</code>. This is because all object literals implicitly inherit from <a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_prototypes\"><strong>Object.prototype</strong></a>, which means the <code class=\"language-text\">hasOwnProptery()</code> task has been delegated to <code class=\"language-text\">Object.protoype</code>. </p>\n<p>Here‚Äôs the complete code example: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> recipe <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"Garlic Naan\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> recipeBook <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">getRecipeName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Set 'recipeBook' as the prototype of 'recipe'</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span>recipe<span class=\"token punctuation\">,</span> recipeBook<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> order <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">orderRecipe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> ordered!</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Extending the prototype chain</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span>recipeBook<span class=\"token punctuation\">,</span> order<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Prototypal delegation in action</span>\nrecipe<span class=\"token punctuation\">.</span><span class=\"token function\">getRecipeName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints 'Garlic Naan'</span>\nrecipe<span class=\"token punctuation\">.</span><span class=\"token function\">orderRecipe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints 'Garlic Naan ordered!'</span>\nrecipe<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//true</span></code></pre></div>\n<h2>Constructor function and the new keyword</h2>\n<p>Before I leave you with this delegation concept, I also want to talk about <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/Function\">constructor functions</a> and why do you need to use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new\"><strong>new</strong></a> operator when creating instances. I hope with the prototype concept aside it should be easy to demystify their existence. </p>\n<p>Every function (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions#use_of_prototype_property\">except fat arrow</a>) in JavaScript has a property called <code class=\"language-text\">prototype</code> which is just a plain object with <code class=\"language-text\">constructor</code> property. This is different from the internal [[Prototype]] relationship. </p>\n<p>Let‚Äôs revisit the previous <code class=\"language-text\">recipe</code> example and see how can you establish the same prototypal relationship using the constructor function.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Constructor function 'Recipe'</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Recipe</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nRecipe<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"prototype\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n<span class=\"token class-name\">Recipe</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">===</span> Recipe<span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>Visually it will look similar to the diagram below: </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ce9aea82e0ecf03cef17d5d9f08dbbc2/ffa0f/function-prototype.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 311px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 33.78378378378378%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA9hAAAPYQGoP6dpAAABTUlEQVQoz2NgIAxYgFgAiIWwYF4gZmQgAXAAsTDUUHzy7HCRJUuWMN65cwduy////8FsBQUFLn5+fmGYODs7RE9oaChjfX0908GDBxlh6gUEBERkZGS40G1jRnM+D4zByckJFndycsLnPW4wuWnTJmWgbarR0dH+3t7eUeHh4Y6+vr6O06dP13/w4IGctbU1iiEXLlzg2rdvn9rp06eVjx8/rgxkq6xatUqprq5Oc9KkSQYMly9f/nTr1q2PQPzu8ePH7/79+/fh8+fP765du/b1zJkzj9LS0lRAjrS0tBQE+WD58uV1wCD6e/Pmzfe3b9/+eP/+/Y9//vz59PLly4979uz5xHDixIn/QM3/gZr/37hx4//Xr1//P3/+HCx29uzZD7W1tfIglyUlJYHDaM2aNTVAQ/5funQJjIEG///y5cv/R48e/T927Nh/ABTIp2mM0ilQAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Constructor function\"\n        title=\"\"\n        src=\"/static/ce9aea82e0ecf03cef17d5d9f08dbbc2/ffa0f/function-prototype.png\"\n        srcset=\"/static/ce9aea82e0ecf03cef17d5d9f08dbbc2/12f09/function-prototype.png 148w,\n/static/ce9aea82e0ecf03cef17d5d9f08dbbc2/e4a3f/function-prototype.png 295w,\n/static/ce9aea82e0ecf03cef17d5d9f08dbbc2/ffa0f/function-prototype.png 311w\"\n        sizes=\"(max-width: 311px) 100vw, 311px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>The property (prototype) is special because when you invoke <code class=\"language-text\">Recipe()</code> using the <strong>new</strong> operator, the new operator uses <code class=\"language-text\">Recipe.prototype</code> as a prototype for instances it creates. Once the instance is created, the new operator passes that instance as <code class=\"language-text\">this</code> internally as one of the parameters to <code class=\"language-text\">Recipe()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> recipe <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Recipe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Garlic Naan'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/294d7d62aa993779cc5094e0bbcf79fc/7c2a6/prototypal-delegation.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 351px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 70.27027027027026%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA9hAAAPYQGoP6dpAAACT0lEQVQ4y6VTPWhaURR+1xhJE9MmfbagTQUHwUqhg4ODOFU6WJSClFCqQ3d1qnSxgliwi8HBRRBRUXBwEEFBpVEQNdTBiII/QVARHMQgbtaf13MfmoS0xJQeONx7zvvOud/5eQRxt+yAHqz00Y07GxT9NUIoFBJ8Ph8plUqCoihCKpXSfgaDwV4F/iFMJpOFEDrcBsG2WCym/ScnJ9cgnOzs7IyB70dHR/s8Hm/vZhKJRILS6TSj1WqhFR4B7rFMJmOtMTabjT6fg/IxqZX/AegucX+hWa7IEkQulysVi8VypVLJjUajdL/fz5dKpeL5+XmYy+XuikSiLYwzm80vgF0a9LTRaPzo9Xqn4/E4nc1mfxYKBSfG5PN5RFSr1SkApuVyeTaZTBZQyvTi4oICu0eS5BM2m72PCej1+teAm9Xr9UWtVpsPBoPFcrn81Ww2MTaLE2YyGURYrVaO3+/nhEIh0mg0kiqVirTb7dh3eLs2p9NJ+nw+MhAIkBaLhaPVag8UCsVLtVrNw981Gs3dzYFH6FMgEGxarWtxu90IAhG8ioLBIAJmyOPxIGCyniaNi0ajVzGdTmcb+s6Cb0y5XE46HI4duG9B6cx7jXGdFAT38yHxPxIOh+nT6/WSMM1v0Pjv3W7XBNtgarfbn2FLvsKgvgyHQxNshmljQkhA72csFnsFTCkIpGazGbWWy8vLK3s+n1MbExoMBvrU6XScVCr1LhKJfIRevQV2b6Cv7xOJxId4PH6cTCaPXS7Xp3+pHk9z79Zftb+yn4I+wwvxG60+IFSMm2uaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Recipe instance delegates the task to its prototype\"\n        title=\"\"\n        src=\"/static/294d7d62aa993779cc5094e0bbcf79fc/7c2a6/prototypal-delegation.png\"\n        srcset=\"/static/294d7d62aa993779cc5094e0bbcf79fc/12f09/prototypal-delegation.png 148w,\n/static/294d7d62aa993779cc5094e0bbcf79fc/e4a3f/prototypal-delegation.png 295w,\n/static/294d7d62aa993779cc5094e0bbcf79fc/7c2a6/prototypal-delegation.png 351w\"\n        sizes=\"(max-width: 351px) 100vw, 351px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Now, it should be clear that why do we need to add properties to <code class=\"language-text\">Recipe.prototype</code>: they become available on all the <code class=\"language-text\">Recipe</code> instances via prototypal delegation. </p>\n<blockquote>\n<p><strong>_</strong>proto<strong>_</strong> is a pseudo property for accessing the prototype of an object</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Adding properties to 'Recipe.prototype' will make them </span>\n<span class=\"token comment\">// available on all `Recipe` instances. </span>\n<span class=\"token class-name\">Recipe</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getRecipeName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> </code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b2db457db60546dc3999597dc8181ad4/2add2/delegation.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 381px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 68.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA9hAAAPYQGoP6dpAAACK0lEQVQ4y2NgwA/YgJgPCfNi4bOia2KEYnQAUsyNQw4GmJHUoYL///8zP3jwgAVIM+rr6wvp6upyIsuvXr2aZd++fSzbt29nOXbsGMuNGzdAaplB6h0cHATc3Nx4gWwmkFoJIBZC0suEZAkDyWDbtm1Hd+7ceeLixYubPnz4sOr69evbz5w5s+3o0aPhIHkPDw8OIMV16tSpCTdv3tx09erV1Q8fPlz74sWLNY8fP17z9u3btR8/flxz6dKlDZcvX17HAGR8uXbt2mcg/ePr16+/vnz58vnChQv/T58+XQcy0NfXlwtICQANvHD79u0/QE2fgYZ9Aar99vr165+/fv369u/fv69AS77evXv3B8PSpUtF9+/fL7Zr1y7R2bNni3R1dYkCXSe2du1alDC0tLQ0BIaTjZeXl5m9vb2lORD4+PioOzk5GZiamloEBwfr9/f3S+MNDn9/fzBtZGQEoqSxYFDYiwKxJBCrgpPSli1bGA8cOMAIjEEwDQxPxh07djACXYjXMlDsQmMZHIl6enoSK1asYCU68pBinJmBEjBx4kSG3bt3g9nAMI6eMGHCRGCYpz979iwMGONRwMiIBOIIoJq0K1euuBM0EBjjcNcBDTn548eP/2/evPmPDt6/f///0aNHtwga2NbWBmcvX77cdcOGDUmHDx8OAbrGD5gyIoE5Jx5Ix2zdujV58+bNnkR73dbWFpSnBYFYEUqD+PxALA/EMkCsDMQiAGVuL25rsBxdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Adding properties to prototype\"\n        title=\"\"\n        src=\"/static/b2db457db60546dc3999597dc8181ad4/2add2/delegation.png\"\n        srcset=\"/static/b2db457db60546dc3999597dc8181ad4/12f09/delegation.png 148w,\n/static/b2db457db60546dc3999597dc8181ad4/e4a3f/delegation.png 295w,\n/static/b2db457db60546dc3999597dc8181ad4/2add2/delegation.png 381w\"\n        sizes=\"(max-width: 381px) 100vw, 381px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Similarly, we can extend the chain and delegate the task of ordering the recipe to another object by setting it as a <code class=\"language-text\">Recipe.prototype</code> prototype.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Order constructor</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Order</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Order</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>recipeOrder <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">recipeOrder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> ordered!</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Setting up the delegation aka Prototypal inheritance</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Recipe</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Order</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nrecipe<span class=\"token punctuation\">.</span><span class=\"token function\">orderRecipe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints 'Garlic Naan ordered!'</span></code></pre></div>\n<p>The complete code example using Function constructor looks like:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Constructor function 'Recipe'</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Recipe</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span>\n\nRecipe<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'prototype'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n<span class=\"token class-name\">Recipe</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">===</span> Recipe<span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n\n<span class=\"token keyword\">const</span> recipe <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Recipe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Garlic Naan'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">Recipe</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Order constructor</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Order</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Order</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>recipeOrder <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">recipeOrder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> ordered!</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Setting up the delegation aka Prototypal inheritance</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Recipe</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Order</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Prototypal delegation in action</span>\nrecipe<span class=\"token punctuation\">.</span><span class=\"token function\">getRecipeName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints 'Garlic Naan'</span>\nrecipe<span class=\"token punctuation\">.</span><span class=\"token function\">orderRecipe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prints 'Garlic Naan ordered!'</span>\nrecipe<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//true</span></code></pre></div>\n<p>Here‚Äôs how the final prototype chain looks like: </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/53bacb3bbf9aaec70f32f53ccdd1053f/9bb7a/proto-delegation.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 43.24324324324324%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABBUlEQVQoz21ShwqFQAy7//89EUHBiXvh3vaRQsUnVyh6Z5umieq+b0Icx0HzPGvzui6SOnlK4PxOhcvzPGnbNtIFvq3r+gdWFAXXf8ERKk1TkkT0fc8NTdPQMAzcWJYlVVX1DDBNkzzP41rHcWgcR67Dlqqu6wcEF3mek2EYZFkW+b7Pg9AMUGG5LAtLMU0T92GISKa+lFHsui7FcczgbdtSFEWc+75T13XPGVugNkkS3gZM1VtQMQeT8cQaMAQboBkBPbGmbdvMGgPCMOQBqFdfxwQUU7EKAMH6bQzeJcEaQGKq+tqPAEOwyLKMdYHOYprO2TeGliEAgyB49IKr0FT3333zB8+RuS3ZamjTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Final prototypal delegation in action\"\n        title=\"\"\n        src=\"/static/53bacb3bbf9aaec70f32f53ccdd1053f/fcda8/proto-delegation.png\"\n        srcset=\"/static/53bacb3bbf9aaec70f32f53ccdd1053f/12f09/proto-delegation.png 148w,\n/static/53bacb3bbf9aaec70f32f53ccdd1053f/e4a3f/proto-delegation.png 295w,\n/static/53bacb3bbf9aaec70f32f53ccdd1053f/fcda8/proto-delegation.png 590w,\n/static/53bacb3bbf9aaec70f32f53ccdd1053f/9bb7a/proto-delegation.png 676w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<hr>\n<h2>Closing thoughts</h2>\n<p>Prototypes in JavaScript may seem daunting to begin with, but I hope this article has eased your learning path. Understanding the foundation of JavaScript is the key to become a good developer. If you want to explore more about the prototype chain, then I highly recommend reading this <a href=\"https://exploringjs.com/impatient-js/ch_proto-chains-classes.html#prototype-chains\">chapter</a> by Dr. Axel. Thank you for reading üòç.</p>","frontmatter":{"title":"An Easy Explanation to Prototypal Delegation in JavaScript","date":"February 15, 2021","description":"JavaScript doesn't have classical inheritance, but Prototypal delegation. This allows a very powerful paradigm of sharing methods and properties in JavaScript."}}},"pageContext":{"slug":"/an-easy-explanation-to-prototypal-delegation-in-javascript/","previous":{"fields":{"slug":"/how-to-smartly-cleanup-your-commit-history-using-git/"},"frontmatter":{"title":"How to smartly cleanup your commit history using git reset?"}},"next":{"fields":{"slug":"/are-you-sure-you-know-how-event-propagates-in-javascript/"},"frontmatter":{"title":"Are you sure you know how event propagates in JavaScript?"}}}},"staticQueryHashes":["426816048","63159454"]}